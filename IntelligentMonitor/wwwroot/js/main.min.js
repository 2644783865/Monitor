function loadChartsHtml(){for(var n="",t=0;t<chartsIds.length;t++)n+='<div class="layui-col-md4 layui-col-md4 layui-col-md4">',n+='<div class="charts" id="'+chartsIds[t]+'"><\/div>',n+="<\/div>";$(".content .layui-row").html(n)}function resetChartsHeight(){$(".charts").css("height",$(".content").height()/2+"px");$(".charts>div").css("height",$(".content").height()/2+"px")}function getTime(){var n=new Date,r=n.getFullYear(),u=n.getMonth()+1,f=n.getDate(),e=n.getHours(),o=n.getMinutes(),t=n.getSeconds(),i;t=t<10?"0"+t:t;i=r+"-"+u+"-"+f+" "+e+":"+o+":"+t;$(".nav-time span:eq(3)").html("当前时间："+i)}function addCookie(n,t){var i=new Date;i.setTime(i.getTime()+2592e6);document.cookie=n+"="+escape(t)+";expires="+i.toGMTString()}function getCookie(n){var t,i=new RegExp("(^| )"+n+"=([^;]*)(;|$)");return(t=document.cookie.match(i))?unescape(t[2]):null}function setTheme(){theme=getCookie(".AspNetCore.Theme")||"dark";theme!="dark"?$(".nav-header-brand img").attr("src","/imgs/logo_white.png"):$(".nav-header-brand img").attr("src","/imgs/logo_black.png");$.getJSON("js/themes/"+theme+".json",function(n){disposeCharts();echarts.registerTheme(theme,n.theme);loading=n.loading;const t=n.style;$("body").css({"background-image":t.backgroundImage,"background-color":t.backgroundColor});$(".nav").css("color",t.color);$(".nav-header-brand img").attr("src",t.logo);renderCharts1(theme);renderCharts2(theme);renderCharts3(theme);renderCharts4(theme);renderCharts5(theme);renderCharts6(theme)})}function disposeCharts(){charts1.dispose();charts2.dispose();charts3.dispose();charts4.dispose();charts5.dispose();charts6.dispose()}function reloadCharts(){disposeCharts();renderCharts1(theme);renderCharts2(theme);renderCharts3(theme);renderCharts4(theme);renderCharts5(theme);renderCharts6(theme)}function setThemeOptions(){$(".nav-menu").removeClass("layui-hide");var n="";$.getJSON("js/themes/themes.json",function(t){var i,r;for(i of t.themes){for(n+='<div class="layui-col-md12 layui-col-md12 layui-col-md12">',n+='<a class="theme-plan-group" title="'+i.name+'" style="background-color: '+i.background+';">',r=0;r<i.theme.length;r++)n+='<div class="theme-plan-color" style="background-color:'+i.theme[r]+' ;"><\/div>';n+="<\/a>";n+="<\/div>"}$(".theme>div").html(n)})}function renderCharts1(n){charts1=echarts.init(document.getElementById("charts1"),n);charts1.showLoading(loading);charts1.setOption({tooltip:{trigger:"axis"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:["周一","周二","周三","周四","周五","周六","周日"]},yAxis:{type:"value"},series:[{name:"邮件营销",type:"line",stack:"总量",data:[120,132,101,134,90,230,210]},{name:"联盟广告",type:"line",stack:"总量",data:[220,182,191,234,290,330,310]},{name:"视频广告",type:"line",stack:"总量",data:[150,232,201,154,190,330,410]},{name:"直接访问",type:"line",stack:"总量",data:[320,332,301,334,390,330,320]},{name:"搜索引擎",type:"line",stack:"总量",data:[820,932,901,934,1290,1330,1320]}]});charts1.hideLoading()}function renderCharts2(n){charts2=echarts.init(document.getElementById("charts2"),n);charts2.showLoading(loading);charts2.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:["周一","周二","周三","周四","周五","周六","周日"]}],yAxis:[{type:"value"}],series:[{name:"直接访问",type:"bar",data:[320,332,301,334,390,330,320]},{name:"邮件营销",type:"bar",stack:"广告",data:[120,132,101,134,90,230,210]},{name:"联盟广告",type:"bar",stack:"广告",data:[220,182,191,234,290,330,310]},{name:"视频广告",type:"bar",stack:"广告",data:[150,232,201,154,190,330,410]},{name:"搜索引擎",type:"bar",data:[862,1018,964,1026,1679,1600,1570],markLine:{lineStyle:{normal:{type:"dashed"}},data:[[{type:"min"},{type:"max"}]]}},{name:"百度",type:"bar",barWidth:5,stack:"搜索引擎",data:[620,732,701,734,1090,1130,1120]},{name:"谷歌",type:"bar",stack:"搜索引擎",data:[120,132,101,134,290,230,220]},{name:"必应",type:"bar",stack:"搜索引擎",data:[60,72,71,74,190,130,110]},{name:"其他",type:"bar",stack:"搜索引擎",data:[62,82,91,84,109,110,120]}]});charts2.hideLoading()}function renderCharts3(n){charts3=echarts.init(document.getElementById("charts3"),n);charts3.showLoading(loading);let t={tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(n){var t;return t=n[1].value!="-"?n[1]:n[0],t.name+"<br/>"+t.seriesName+" : "+t.value}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",splitLine:{show:!1},data:function(){for(var t=[],n=1;n<=11;n++)t.push("11月"+n+"日");return t}()},yAxis:{type:"value"},series:[{name:"辅助",type:"bar",stack:"总量",itemStyle:{normal:{barBorderColor:"rgba(0,0,0,0)",color:"rgba(0,0,0,0)"},emphasis:{barBorderColor:"rgba(0,0,0,0)",color:"rgba(0,0,0,0)"}},data:[0,900,1245,1530,1376,1376,1511,1689,1856,1495,1292]},{name:"收入",type:"bar",stack:"总量",label:{normal:{show:!0,position:"top"}},data:[900,345,393,"-","-",135,178,286,"-","-","-"]},{name:"支出",type:"bar",stack:"总量",label:{normal:{show:!0,position:"bottom"}},data:["-","-","-",108,154,"-","-","-",119,361,203]}]};charts3.setOption(t);charts3.hideLoading()}function renderCharts4(n){charts4=echarts.init(document.getElementById("charts4"),n);charts4.showLoading(loading);var t=["12a","1a","2a","3a","4a","5a","6a","7a","8a","9a","10a","11a","12p","1p","2p","3p","4p","5p","6p","7p","8p","9p","10p","11p"],i=["Saturday","Friday","Thursday","Wednesday","Tuesday","Monday","Sunday"];let r={polar:{},tooltip:{formatter:function(n){return n.value[2]+" commits in "+t[n.value[1]]+" of "+i[n.value[0]]}},angleAxis:{type:"category",data:t,boundaryGap:!1,splitLine:{show:!0,lineStyle:{color:"#999",type:"dashed"}},axisLine:{show:!1}},radiusAxis:{type:"category",data:i,axisLine:{show:!1},axisLabel:{rotate:45}},series:[{name:"Punch Card",type:"scatter",coordinateSystem:"polar",symbolSize:function(n){return n[2]*2},data:[[0,0,5],[0,1,1],[0,2,0],[0,3,0],[0,4,0],[0,5,0],[0,6,0],[0,7,0],[0,8,0],[0,9,0],[0,10,0],[0,11,2],[0,12,4],[0,13,1],[0,14,1],[0,15,3],[0,16,4],[0,17,6],[0,18,4],[0,19,4],[0,20,3],[0,21,3],[0,22,2],[0,23,5],[1,0,7],[1,1,0],[1,2,0],[1,3,0],[1,4,0],[1,5,0],[1,6,0],[1,7,0],[1,8,0],[1,9,0],[1,10,5],[1,11,2],[1,12,2],[1,13,6],[1,14,9],[1,15,11],[1,16,6],[1,17,7],[1,18,8],[1,19,12],[1,20,5],[1,21,5],[1,22,7],[1,23,2],[2,0,1],[2,1,1],[2,2,0],[2,3,0],[2,4,0],[2,5,0],[2,6,0],[2,7,0],[2,8,0],[2,9,0],[2,10,3],[2,11,2],[2,12,1],[2,13,9],[2,14,8],[2,15,10],[2,16,6],[2,17,5],[2,18,5],[2,19,5],[2,20,7],[2,21,4],[2,22,2],[2,23,4],[3,0,7],[3,1,3],[3,2,0],[3,3,0],[3,4,0],[3,5,0],[3,6,0],[3,7,0],[3,8,1],[3,9,0],[3,10,5],[3,11,4],[3,12,7],[3,13,14],[3,14,13],[3,15,12],[3,16,9],[3,17,5],[3,18,5],[3,19,10],[3,20,6],[3,21,4],[3,22,4],[3,23,1],[4,0,1],[4,1,3],[4,2,0],[4,3,0],[4,4,0],[4,5,1],[4,6,0],[4,7,0],[4,8,0],[4,9,2],[4,10,4],[4,11,4],[4,12,2],[4,13,4],[4,14,4],[4,15,14],[4,16,12],[4,17,1],[4,18,8],[4,19,5],[4,20,3],[4,21,7],[4,22,3],[4,23,0],[5,0,2],[5,1,1],[5,2,0],[5,3,3],[5,4,0],[5,5,0],[5,6,0],[5,7,0],[5,8,2],[5,9,0],[5,10,4],[5,11,1],[5,12,5],[5,13,10],[5,14,5],[5,15,7],[5,16,11],[5,17,6],[5,18,0],[5,19,5],[5,20,3],[5,21,4],[5,22,2],[5,23,0],[6,0,1],[6,1,0],[6,2,0],[6,3,0],[6,4,0],[6,5,0],[6,6,0],[6,7,0],[6,8,0],[6,9,0],[6,10,1],[6,11,0],[6,12,2],[6,13,1],[6,14,3],[6,15,4],[6,16,0],[6,17,0],[6,18,0],[6,19,0],[6,20,1],[6,21,2],[6,22,2],[6,23,6]],animationDelay:function(n){return n*5}}]};charts4.setOption(r);charts4.hideLoading()}function renderCharts5(n){var t;charts5=echarts.init(document.getElementById("charts5"),n);charts5.showLoading(loading);var i=[],r=[],u=[];for(t=0;t<100;t++)i.push("类目"+t),r.push((Math.sin(t/5)*(t/5-10)+t/6)*5),u.push((Math.cos(t/5)*(t/5-10)+t/6)*5);let f={tooltip:{},xAxis:{data:i,silent:!1,splitLine:{show:!1}},yAxis:{},series:[{name:"bar",type:"bar",data:r,animationDelay:function(n){return n*10}},{name:"bar2",type:"bar",data:u,animationDelay:function(n){return n*10+100}}],animationEasing:"elasticOut",animationDelayUpdate:function(n){return n*5}};charts5.setOption(f);charts5.hideLoading()}function renderCharts6(n){charts6=echarts.init(document.getElementById("charts6"),n);charts6.showLoading(loading);charts6.setOption({title:{},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left"},series:[{name:"访问来源",type:"pie",radius:"70%",center:["50%","50%"],data:[{value:335,name:"直接访问"},{value:310,name:"邮件营销"},{value:234,name:"联盟广告"},{value:135,name:"视频广告"},{value:1548,name:"搜索引擎"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]});charts6.hideLoading()}const refreshTime=1e4;let loading={},theme="";const chartsIds=["charts1","charts2","charts3","charts4","charts5","charts6"];loadChartsHtml();resetChartsHeight();setTheme();setThemeOptions();setInterval(getTime,1e3);setInterval(reloadCharts,refreshTime);let charts1=echarts.init(document.getElementById(chartsIds[0])),charts2=echarts.init(document.getElementById(chartsIds[1])),charts3=echarts.init(document.getElementById(chartsIds[2])),charts4=echarts.init(document.getElementById(chartsIds[3])),charts5=echarts.init(document.getElementById(chartsIds[4])),charts6=echarts.init(document.getElementById(chartsIds[5]));const _menu=new mSlider({dom:".nav-menu",direction:"right",distance:"20%"});$(".nav-time span:eq(0)").click(function(){_menu.open()});window.addEventListener("resize",function(){resetChartsHeight();charts1.resize();charts2.resize();charts3.resize();charts4.resize();charts5.resize();charts6.resize()});$(".theme").on("click","a",function(){let n=$(this).attr("title");if(n==getCookie(".AspNetCore.Theme"))return!1;addCookie(".AspNetCore.Theme",n);setTheme()});$(".nav-time span:eq(1)").click(function(){var n=document.documentElement,i="layui-icon-screen-full",u="layui-icon-screen-restore",r=$(this).children("i"),t;r.hasClass(i)?(t=n.requestFullScreen||n.webkitRequestFullScreen||n.mozRequestFullScreen||n.msRequestFullscreen,typeof t!="undefined"&&t&&t.call(n),r.addClass(u).removeClass(i),$(".nav-time span:eq(1)").attr("title","退出全屏")):(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen(),r.addClass(i).removeClass(u),$(".nav-time span:eq(1)").attr("title","全屏"))});